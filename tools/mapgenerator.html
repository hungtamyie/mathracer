<!doctype html>
<html>
    <head>
    </head>
    <body>
        <script>
            let mapUrl = "map1sheet.png"
            var image = new Image();
            image.crossOrigin = "anonymous";
            image.addEventListener("load", function(){
                var canvas = document.createElement("canvas");
                //document.body.appendChild(canvas);
                canvas.width = image.width;
                canvas.height = image.height;
                var ctx = canvas.getContext("2d");
                ctx.drawImage(this, 0, 0);
                
                let completeImage = ctx.getImageData(0,0,canvas.width,canvas.height)
                let dirtTileMap = [];
                for (let x = 0; x < canvas.width; x++) {
                    for (let y = 0; y < canvas.height; y++) {
                        let pixel = getPixelXY(completeImage, x, y)
                        console.log(pixel)
                    }
                }
            }, false);
            image.src = mapUrl;
            
            
            function getPixel(imgData, index) {
                var i = index*4, d = imgData.data;
                return [d[i],d[i+1],d[i+2],d[i+3]] // [R,G,B,A]
            }
              
            function getPixelXY(imgData, x, y) {
                return getPixel(imgData, y*imgData.width+x);
            }
              
            function setPixel(imgData, index, r, g, b, a) {
                var i = index*4, d = imgData.data;
                d[i]   = r;
                d[i+1] = g;
                d[i+2] = b;
                d[i+3] = a;
            }
              
            function setPixelXY(imgData, x, y, r, g, b, a) {
                return setPixel(imgData, y*imgData.width+x, r, g, b, a);
            }
        </script>
    </body>
</html>